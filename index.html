<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Évaluation du Système RAG</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
</head>
<body>
    <!-- Indicateur de chargement -->
    <div id="loading" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; display: flex; justify-content: center; align-items: center; z-index: 9999;">
        <div style="text-align: center; color: #f97316;">
            <h2>Chargement en cours...</h2>
            <div class="loading-spinner"></div>
            <p>Préparation de la présentation</p>
        </div>
    </div>

    <!-- Barre de progression -->
    <div class="progress-bar">
        <div class="progress"></div>
    </div>

    <div id="impress">
        <!-- Slide 1: Vue d'ensemble circulaire -->
        <div id="overview" class="step" data-x="0" data-y="0" data-scale="10">
            <div class="circle-container">
                <!-- Grand cercle principal -->
                <div class="main-circle">
                    <!-- Contenu central -->
                    <div class="circle-content">
                        <img src="img/BackgroundWelcome.jpeg" alt="RAG System" id="central-image">
                        <h1>Évaluation du Système RAG</h1>
                        <div class="subtitle">Performance comparative</div>
                        <div class="date">22 Avril 2025</div>
                    </div>
                </div>

                <!-- Petits cercles/icônes positionnés sur le grand cercle -->
                <!-- Chaque icône représente un sous-thème et est positionnée avec une transformation CSS -->
                
                <!-- Groupe 1: Introduction et Fondamentaux (0-30 degrés) -->
                <div class="circle-icon" style="--angle: 0deg;" data-target="intro" data-theme="Introduction">
                    <div class="icon-content">I</div>
                    <div class="icon-tooltip">Introduction</div>
                </div>
                
                <div class="circle-icon" style="--angle: 10deg;" data-target="objectives" data-theme="Objectifs">
                    <div class="icon-content">O</div>
                    <div class="icon-tooltip">Objectifs</div>
                </div>
                
                <div class="circle-icon" style="--angle: 20deg;" data-target="challenges" data-theme="Défis">
                    <div class="icon-content">D</div>
                    <div class="icon-tooltip">Défis</div>
                </div>
                
                <div class="circle-icon" style="--angle: 30deg;" data-target="methodology" data-theme="Méthodologie">
                    <div class="icon-content">M</div>
                    <div class="icon-tooltip">Méthodologie</div>
                </div>
                
                <!-- Groupe 2: Types de données (40-90 degrés) -->
                <div class="circle-icon" style="--angle: 40deg;" data-target="text-analysis" data-theme="Texte">
                    <div class="icon-content">T</div>
                    <div class="icon-tooltip">Texte</div>
                </div>
                
                <div class="circle-icon" style="--angle: 50deg;" data-target="table-analysis" data-theme="Tableaux">
                    <div class="icon-content">TB</div>
                    <div class="icon-tooltip">Tableaux</div>
                </div>
                
                <div class="circle-icon" style="--angle: 60deg;" data-target="graph-analysis" data-theme="Graphiques">
                    <div class="icon-content">G</div>
                    <div class="icon-tooltip">Graphiques</div>
                </div>
                
                <div class="circle-icon" style="--angle: 70deg;" data-target="image-analysis" data-theme="Images">
                    <div class="icon-content">IM</div>
                    <div class="icon-tooltip">Images</div>
                </div>
                
                <div class="circle-icon" style="--angle: 80deg;" data-target="multimodal" data-theme="Multimodal">
                    <div class="icon-content">MM</div>
                    <div class="icon-tooltip">Multimodal</div>
                </div>
                
                <div class="circle-icon" style="--angle: 90deg;" data-target="data-structure" data-theme="Structure">
                    <div class="icon-content">S</div>
                    <div class="icon-tooltip">Structure</div>
                </div>
                
                <!-- Groupe 3: Évaluation et Métriques (100-150 degrés) -->
                <div class="circle-icon" style="--angle: 100deg;" data-target="metrics" data-theme="Métriques">
                    <div class="icon-content">MT</div>
                    <div class="icon-tooltip">Métriques</div>
                </div>
                
                <div class="circle-icon" style="--angle: 110deg;" data-target="precision" data-theme="Précision">
                    <div class="icon-content">P</div>
                    <div class="icon-tooltip">Précision</div>
                </div>
                
                <div class="circle-icon" style="--angle: 120deg;" data-target="recall" data-theme="Rappel">
                    <div class="icon-content">R</div>
                    <div class="icon-tooltip">Rappel</div>
                </div>
                
                <div class="circle-icon" style="--angle: 130deg;" data-target="f1-score" data-theme="F1-Score">
                    <div class="icon-content">F1</div>
                    <div class="icon-tooltip">F1-Score</div>
                </div>
                
                <div class="circle-icon" style="--angle: 140deg;" data-target="bleu" data-theme="BLEU">
                    <div class="icon-content">BL</div>
                    <div class="icon-tooltip">BLEU</div>
                </div>
                
                <div class="circle-icon" style="--angle: 150deg;" data-target="rouge" data-theme="ROUGE">
                    <div class="icon-content">RG</div>
                    <div class="icon-tooltip">ROUGE</div>
                </div>
                
                <!-- Groupe 4: Résultats et Analyse (160-210 degrés) -->
                <div class="circle-icon" style="--angle: 160deg;" data-target="results" data-theme="Résultats">
                    <div class="icon-content">RS</div>
                    <div class="icon-tooltip">Résultats</div>
                </div>
                
                <div class="circle-icon" style="--angle: 170deg;" data-target="comparison" data-theme="Comparaison">
                    <div class="icon-content">CP</div>
                    <div class="icon-tooltip">Comparaison</div>
                </div>
                
                <div class="circle-icon" style="--angle: 180deg;" data-target="analysis" data-theme="Analyse">
                    <div class="icon-content">A</div>
                    <div class="icon-tooltip">Analyse</div>
                </div>
                
                <div class="circle-icon" style="--angle: 190deg;" data-target="insights" data-theme="Insights">
                    <div class="icon-content">IN</div>
                    <div class="icon-tooltip">Insights</div>
                </div>
                
                <div class="circle-icon" style="--angle: 200deg;" data-target="strengths" data-theme="Forces">
                    <div class="icon-content">F</div>
                    <div class="icon-tooltip">Forces</div>
                </div>
                
                <div class="circle-icon" style="--angle: 210deg;" data-target="weaknesses" data-theme="Faiblesses">
                    <div class="icon-content">FB</div>
                    <div class="icon-tooltip">Faiblesses</div>
                </div>
                
                <!-- Groupe 5: Architecture et Technique (220-270 degrés) -->
                <div class="circle-icon" style="--angle: 220deg;" data-target="architecture" data-theme="Architecture">
                    <div class="icon-content">AR</div>
                    <div class="icon-tooltip">Architecture</div>
                </div>
                
                <div class="circle-icon" style="--angle: 230deg;" data-target="vectorization" data-theme="Vectorisation">
                    <div class="icon-content">V</div>
                    <div class="icon-tooltip">Vectorisation</div>
                </div>
                
                <div class="circle-icon" style="--angle: 240deg;" data-target="embedding" data-theme="Embedding">
                    <div class="icon-content">EM</div>
                    <div class="icon-tooltip">Embedding</div>
                </div>
                
                <div class="circle-icon" style="--angle: 250deg;" data-target="retrieval" data-theme="Recherche">
                    <div class="icon-content">RE</div>
                    <div class="icon-tooltip">Recherche</div>
                </div>
                
                <div class="circle-icon" style="--angle: 260deg;" data-target="generation" data-theme="Génération">
                    <div class="icon-content">GN</div>
                    <div class="icon-tooltip">Génération</div>
                </div>
                
                <div class="circle-icon" style="--angle: 270deg;" data-target="pipeline" data-theme="Pipeline">
                    <div class="icon-content">PI</div>
                    <div class="icon-tooltip">Pipeline</div>
                </div>
                
                <!-- Groupe 6: Améliorations et Perspectives (280-330 degrés) -->
                <div class="circle-icon" style="--angle: 280deg;" data-target="benefits" data-theme="Bénéfices">
                    <div class="icon-content">B</div>
                    <div class="icon-tooltip">Bénéfices</div>
                </div>
                
                <div class="circle-icon" style="--angle: 290deg;" data-target="improvements" data-theme="Améliorations">
                    <div class="icon-content">AM</div>
                    <div class="icon-tooltip">Améliorations</div>
                </div>
                
                <div class="circle-icon" style="--angle: 300deg;" data-target="solutions" data-theme="Solutions">
                    <div class="icon-content">SO</div>
                    <div class="icon-tooltip">Solutions</div>
                </div>
                
                <div class="circle-icon" style="--angle: 310deg;" data-target="future" data-theme="Futur">
                    <div class="icon-content">FU</div>
                    <div class="icon-tooltip">Futur</div>
                </div>
                
                <div class="circle-icon" style="--angle: 320deg;" data-target="research" data-theme="Recherche">
                    <div class="icon-content">RC</div>
                    <div class="icon-tooltip">Recherche</div>
                </div>
                
                <div class="circle-icon" style="--angle: 330deg;" data-target="roadmap" data-theme="Roadmap">
                    <div class="icon-content">RM</div>
                    <div class="icon-tooltip">Roadmap</div>
                </div>
                
                <!-- Groupe 7: Conclusion et Ressources (340-350 degrés) -->
                <div class="circle-icon" style="--angle: 340deg;" data-target="conclusion" data-theme="Conclusion">
                    <div class="icon-content">C</div>
                    <div class="icon-tooltip">Conclusion</div>
                </div>
                
                <div class="circle-icon" style="--angle: 350deg;" data-target="resources" data-theme="Ressources">
                    <div class="icon-content">RS</div>
                    <div class="icon-tooltip">Ressources</div>
                </div>
            </div>
        </div>
        <!-- Slide 2: Introduction -->
        <div id="intro" class="step slide" data-x="1500" data-y="0" data-z="-1000" data-rotate-x="-30">
            <h2>Introduction & Objectifs</h2>
            <div class="card primary">
                <h3>Objectif principal</h3>
                <p>Comprendre comment la <strong>nature structurelle des données</strong> influence la qualité des réponses générées par notre système RAG.</p>
            </div>
            
            <div class="grid-2">
                <div>
                    <h3 class="blue">Types de structures évaluées</h3>
                    <div class="card">
                        <ul>
                            <li><strong>Texte (43%)</strong></li>
                            <li><strong>Tableaux (32%)</strong></li>
                            <li><strong>Graphiques (25%)</strong></li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3 class="green">Questions clés</h3>
                    <div class="card">
                        <ul>
                            <li><strong>Performance comparative</strong></li>
                            <li><strong>Points faibles</strong></li>
                            <li><strong>Améliorations ciblées</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Methodology -->
        <div id="methodology" class="step slide" data-x="0" data-y="1500" data-z="-500" data-rotate-y="30">
            <h2>Méthodologie d'Évaluation</h2>
            
            <div class="grid-2">
                <div>
                    <h3>Processus d'évaluation</h3>
                    
                    <h4>Architecture d'évaluation</h4>
                    <ul class="compact">
                        <li><strong class="blue">Batch Processing</strong>: 100 questions</li>
                        <li><strong class="green">Gestion robuste</strong>: Reprise sur erreur</li>
                        <li><strong class="purple">Segmentation</strong>: Par type de structure</li>
                    </ul>
                </div>
                
                <div>
                    <h3>Flux d'évaluation</h3>
                    <div id="evaluation-flow-chart" class="chart-container"></div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Text Analysis -->
        <div id="text-analysis" class="step slide" data-x="-1000" data-y="1200" data-z="-100" data-rotate-y="-60">
            <h2>Analyse du Texte</h2>
            
            <div class="card primary">
                <h3>Performance sur le contenu textuel</h3>
                <p>Le système RAG présente une <strong>forte performance</strong> sur les données textuelles structurées.</p>
            </div>
            
            <div class="grid-2">
                <div>
                    <h3 class="green">Forces principales</h3>
                    <ul>
                        <li>Extraction précise d'informations factuelle</li>
                        <li>Cohérence des réponses générées</li>
                        <li>Pertinence élevée (>80%)</li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="red">Points d'amélioration</h3>
                    <ul>
                        <li>Sensibilité aux variations syntaxiques</li>
                        <li>Précision lexicale (BLEU score)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Slide 5: Results -->
        <div id="results" class="step slide" data-x="-1500" data-y="800" data-z="-200" data-rotate-y="-45">
            <h2>Résultats de l'évaluation</h2>
            
            <div class="card primary">
                <h3>Synthèse des performances</h3>
                <p>Notre système RAG présente des performances <strong>variables</strong> selon le type de structure analysé.</p>
            </div>
            
            <div class="grid-2">
                <div>
                    <h3 class="blue">Scores par type de structure</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Structure</th>
                                    <th>Score global</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="highlight-green">
                                    <td>Texte</td>
                                    <td class="bold">70.2%</td>
                                </tr>
                                <tr class="highlight-red">
                                    <td>Tableaux</td>
                                    <td class="bold">45.6%</td>
                                </tr>
                                <tr class="highlight-yellow">
                                    <td>Graphiques</td>
                                    <td class="bold">54.0%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div>
                    <h3 class="green">Visualisation</h3>
                    <div id="results-chart" class="chart-container"></div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Analysis -->
        <div id="analysis" class="step slide" data-x="-1000" data-y="-500" data-z="500" data-rotate-x="30">
            <h2>Analyse détaillée par type de structure</h2>
            
            <div class="grid-3">
                <div class="card highlight-green">
                    <h3 class="green">Texte (70.2%)</h3>
                    <ul class="compact">
                        <li>Forces : Relevance (0.830)</li>
                        <li>Point faible : BLEU (0.473)</li>
                    </ul>
                </div>
                
                <div class="card highlight-red">
                    <h3 class="red">Tableaux (45.6%)</h3>
                    <ul class="compact">
                        <li>Forces : Relevance (0.750)</li>
                        <li>Point faible : Exact Match (0.233)</li>
                    </ul>
                </div>
                
                <div class="card highlight-yellow">
                    <h3 class="yellow">Graphiques (54.0%)</h3>
                    <ul class="compact">
                        <li>Forces : Relevance (0.774)</li>
                        <li>Point faible : BLEU (0.403)</li>
                    </ul>
                </div>
            </div>
            
            <div id="metrics-radar-chart" class="chart-container"></div>
        </div>

        <!-- Slide 7: Vectorization -->
        <div id="vectorization" class="step slide" data-x="500" data-y="-800" data-z="300" data-rotate-x="-20">
            <h2>Processus de Vectorisation Multimodale</h2>
            
            <div class="grid-2">
                <div>
                    <h3>Architecture de vectorisation</h3>
                    
                    <div class="card info">
                        <p>Notre système utilise <strong class="blue">Gemini (embedding-001)</strong> avec un pipeline adaptatif selon le type de contenu.</p>
                    </div>
                    
                    <h4 class="purple">Extraction intelligente par type</h4>
                    <div class="card">
                        <ul class="compact">
                            <li><strong class="orange">Texte</strong>: Détection de sections</li>
                            <li><strong class="green">Tableaux</strong>: Préservation structurelle</li>
                            <li><strong class="blue">Images</strong>: Analyse des légendes</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3>Pipeline de traitement</h3>
                    <div id="pipeline-flowchart" class="chart-container"></div>
                </div>
            </div>
        </div>

        <!-- Slide 8: Benefits -->
        <div id="benefits" class="step slide" data-x="1200" data-y="-600" data-z="100" data-rotate-y="20">
            <h2>Bénéfices pour la recherche sémantique</h2>
            
            <div class="card primary">
                <h3>Amélioration des performances</h3>
                <p>Notre approche de vectorisation multimodale offre des <strong>bénéfices significatifs</strong> pour la recherche sémantique.</p>
            </div>
            
            <div class="grid-2">
                <div>
                    <h3 class="blue">Avantages techniques</h3>
                    <div class="card">
                        <ul>
                            <li><strong class="purple">Préservation contextuelle</strong></li>
                            <li><strong class="green">Précision accrue</strong> (+63%)</li>
                            <li><strong class="blue">Richesse sémantique</strong></li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3 class="green">Impact sur les métriques</h3>
                    <div id="gain-chart" class="chart-container"></div>
                </div>
            </div>
        </div>

        <!-- Slide 9: Conclusion -->
        <div id="conclusion" class="step slide" data-x="0" data-y="0" data-z="-3000" data-rotate-x="0" data-rotate-y="0" data-scale="1">
            <h2>Conclusion</h2>
            <div class="subtitle orange">Vers un système RAG polyvalent</div>
            
            <div class="grid-3">
                <div class="card">
                    <div class="icon green">T</div>
                    <h3>Texte</h3>
                    <p>Forces confirmées (70.2%)</p>
                </div>
                
                <div class="card">
                    <div class="icon red">T</div>
                    <h3>Tableaux</h3>
                    <p>Défis majeurs (45.6%)</p>
                </div>
                
                <div class="card">
                    <div class="icon yellow">G</div>
                    <h3>Graphiques</h3>
                    <p>Intermédiaire (54.0%)</p>
                </div>
            </div>
        </div>

        <!-- Slide 10: Resources -->
        <div id="resources" class="step slide" data-x="2000" data-y="1000" data-z="-500" data-rotate-y="-90">
            <h2>Ressources et Liens</h2>
            
            <div class="grid-2">
                <div>
                    <h3>Documentation</h3>
                    <ul>
                        <li><a href="#" class="link">📄 Documents d'évaluation</a></li>
                        <li><a href="#" class="link">📊 Visualisations détaillées</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3>Code source</h3>
                    <ul>
                        <li><a href="#" class="link">🧪 Programme d'évaluation</a></li>
                        <li><a href="#" class="link">💻 Code sur GitHub</a></li>
                    </ul>
                    
                    <div class="author-info">
                        <strong>Andre Sarr</strong><br>
                        sarrandremichel@gmail.com
                    </div>
                </div>
            </div>
        </div>

        <!-- Return to Overview -->
        <div id="return-overview" class="step" data-x="0" data-y="0" data-scale="10">
            <!-- Empty div for returning to overview -->
        </div>
    </div>

    <div class="controls">
        <button id="prev" title="Précédent"><span>◀</span></button>
        <button id="next" title="Suivant"><span>▶</span></button>
        <button id="overview-btn" title="Vue d'ensemble"><span>⚙</span></button>
    </div>

    <!-- Chargement des scripts dans le bon ordre -->
    <script>
        // Variable pour suivre le chargement des scripts
        window.scriptStatus = {
            impressJsLoaded: false,
            d3Loaded: typeof d3 !== 'undefined'
        };
        
        // Fonction pour masquer l'indicateur de chargement
        function hideLoading() {
            if (window.scriptStatus.impressJsLoaded && window.scriptStatus.d3Loaded) {
                setTimeout(function() {
                    const loadingElement = document.getElementById('loading');
                    if (loadingElement) {
                        loadingElement.style.opacity = '0';
                        loadingElement.style.transition = 'opacity 0.5s ease';
                        setTimeout(function() {
                            loadingElement.style.display = 'none';
                        }, 500);
                    }
                }, 500);
            }
        }
        
        // Fonction appelée quand impress.js est chargé
        function onImpressJsLoaded() {
            window.scriptStatus.impressJsLoaded = true;
            console.log("impress.js chargé avec succès");
            hideLoading();
        }
    </script>
    
    <!-- Impress.js avec callback -->
    <script src="https://cdn.jsdelivr.net/gh/impress/impress.js@2.0.0/js/impress.js" onload="onImpressJsLoaded()"></script>
    
    <!-- Scripts de l'application -->
    <script src="js/presentation.js"></script>
    <script src="js/charts.js"></script>
</body>
</html>